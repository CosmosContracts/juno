package v3_test

// import (
// 	"testing"

// 	"github.com/stretchr/testify/require"

// 	"github.com/cosmos/cosmos-sdk/testutil"
// 	sdk "github.com/cosmos/cosmos-sdk/types"
// 	moduletestutil "github.com/cosmos/cosmos-sdk/types/module/testutil"

// 	"github.com/CosmosContracts/juno/v27/x/mint"
// 	"github.com/CosmosContracts/juno/v27/x/mint/exported"
// 	v3 "github.com/CosmosContracts/juno/v27/x/mint/migrations/v3"
// 	"github.com/CosmosContracts/juno/v27/x/mint/types"
// )

// type mockSubspace struct {
// 	ps types.Params
// }

// func newMockSubspace(ps types.Params) mockSubspace {
// 	return mockSubspace{ps: ps}
// }

// func (ms mockSubspace) GetParamSet(_ sdk.Context, ps exported.ParamSet) {
// 	*ps.(*types.Params) = ms.ps
// }

// func TestMigrateMainet(t *testing.T) {
// 	encCfg := moduletestutil.MakeTestEncodingConfig(mint.AppModuleBasic{})
// 	cdc := encCfg.Codec

// 	storeKey := sdk.NewKVStoreKey(v3.ModuleName)
// 	tKey := sdk.NewTransientStoreKey("transient_test")
// 	ctx := testutil.DefaultContext(storeKey, tKey)
// 	store := ctx.KVStore(storeKey)

// 	legacySubspace := newMockSubspace(types.Params{
// 		MintDenom:     "ujuno",
// 		BlocksPerYear: 5048093,
// 	})
// 	require.NoError(t, v3.Migrate(ctx, store, cdc, "ujuno"))

// 	var res types.Params
// 	bz := store.Get(v3.ParamsKey)
// 	require.NoError(t, cdc.Unmarshal(bz, &res))
// 	require.Equal(t, legacySubspace.ps, res)
// }

// func TestMigrateTestnet(t *testing.T) {
// 	encCfg := moduletestutil.MakeTestEncodingConfig(mint.AppModuleBasic{})
// 	cdc := encCfg.Codec

// 	storeKey := sdk.NewKVStoreKey(v3.ModuleName)
// 	tKey := sdk.NewTransientStoreKey("transient_test")
// 	ctx := testutil.DefaultContext(storeKey, tKey)
// 	store := ctx.KVStore(storeKey)

// 	legacySubspace := newMockSubspace(types.Params{
// 		MintDenom:     "ujunox",
// 		BlocksPerYear: 5048093,
// 	})
// 	require.NoError(t, v3.Migrate(ctx, store, cdc, "ujunox"))

// 	var res types.Params
// 	bz := store.Get(v3.ParamsKey)
// 	require.NoError(t, cdc.Unmarshal(bz, &res))
// 	require.Equal(t, legacySubspace.ps, res)
// }
